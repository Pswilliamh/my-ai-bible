<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <title>My AI Bible</title>
  <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css">
</head>
<body>
  <div class="container mt-4">
    <h1>My AI Bible</h1>
    <p>Search for a word or verse to begin your study.</p>
    <div class="input-group mb-3">
      <input type="text" id="search" class="form-control" placeholder="Enter a word or verse (e.g., love, John 3:16)">
      <button onclick="search()" class="btn btn-primary">Search</button>
    </div>
    <div id="results" class="mt-3"></div>
  </div>

  <script>
    async function search() {
      const query = document.getElementById('search').value.toLowerCase();
      const resultsDiv = document.getElementById('results');
      resultsDiv.innerHTML = '<p>Loading...</p>';

      // Mock data to test functionality
      const mockData = {
        verses: [
          { reference: "John 3:16", text: "For God so loved the world that he gave his only Son", strongs: { "loved": "G25" } },
          { reference: "1 John 4:8", text: "He that loveth not knoweth not God", strongs: { "loveth": "G25" } }
        ]
      };

      resultsDiv.innerHTML = '';
      const filtered = mockData.verses.filter(v => 
        v.text.toLowerCase().includes(query) || 
        v.reference.toLowerCase().includes(query)
      );

      if (filtered.length > 0) {
        filtered.forEach(verse => {
          const words = verse.text.split(' ').map(word => {
            const strongs = verse.strongs[word.toLowerCase()] || 'N/A';
            return `<span onclick="showDetails('${word}', '${strongs}')" style="cursor: pointer;">${word}</span>`;
          }).join(' ');
          resultsDiv.innerHTML += `
            <div class="card mb-2">
              <div class="card-body">
                <h5 class="card-title">${verse.reference}</h5>
                <p class="card-text">${words}</p>
              </div>
            </div>
          `;
        });
      } else {
        resultsDiv.innerHTML = '<p>No results found. Try another search!</p>';
      }
    }

    function showDetails(word, strongs) {
      const details = {
        'G25': { definition: 'To love (agapa≈ç)', etymology: 'Present active, 1st person singular' }
      };
      const info = details[strongs] || { definition: 'Not available', etymology: 'N/A' };
      alert(`Word: ${word}\nStrong's Number: ${strongs}\nDefinition: ${info.definition}\nEtymology: ${info.etymology}`);
    }

    document.getElementById('search').addEventListener('keypress', function(event) {
      if (event.key === 'Enter') {
        search();
      }
    });
  </script>
</body>
</html>